<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>test</title>
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=91069506', 'ym');

    ym(91069506, 'init', {ssr:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/91069506" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
	
<!-- Varioqub experiments -->
<script type="text/javascript">
(function(e, x, pe, r, i, me, nt){
e[i]=e[i]||function(){(e[i].a=e[i].a||[]).push(arguments)},
me=x.createElement(pe),me.async=1,me.src=r,nt=x.getElementsByTagName(pe)[0],me.addEventListener('error',function(){function cb(t){t=t[t.length-1],'function'==typeof t&&t({flags:{}})};Array.isArray(e[i].a)&&e[i].a.forEach(cb);e[i]=function(){cb(arguments)}}),nt.parentNode.insertBefore(me,nt)})
(window, document, 'script', 'https://abt.s3.yandex.net/expjs/latest/exp.js', 'ymab');
ymab('metrika.91069506', 'init'/*, {clientFeatures}, {callback}*/);
</script>
</head>
<body>
<!-- Google Tag Manager -->
<!--<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KHD5THD8');</script>-->
<!-- End Google Tag Manager -->
<script type="text/javascript">
	window.dataLayer = window.dataLayer || [];
	document.addEventListener('yacounter91069506inited', function(){console.log('Сч-ик загружен')});
	window.test_var = 0;
</script>
	
<p style="text-align:center">Test E-com</p>
<button onclick="viewList()">Список товара</button>
<button onclick="clickInList()">Клик по товару из списка</button>
<button onclick="prodView()">Просмотр товара</button>
<button onclick="addBasket()">Добавление товара в корзину</button>
<button onclick="delBasket()">Удаление товара из корзины</button>
<button onclick="purchase()">Покупка</button>
<button onclick="viewAds()">Просмотр внутренней рекламы</button>
<button onclick="clickAds()">Клики внутренней рекламы</button>
<button onclick="test()">Тест вызова метода JS в отдельном файле</button>
<button onclick="ytm()">Тест Event для YTM</button>
<script type="text/javascript">
	function ytm(){
		dataLayer.push({
			event: 'form_submit',
		  	form_id: '12345',
		  	form_name: 'подписка'
		});
	};
	function addBasket(){
		dataLayer.push({
			"ecommerce": {
				"currencyCode": "RUB",    
				"add": {
					"products": [
						{
							"id": "43522",
							"name": "Сумка Яндекс",
							"price": 123,
							"brand": "Яндекс",
							"category": "Аксессуары/Сумки",
							"quantity": 1,
							"list": "Выдача категории",
							"position": 2
						}
					]
				}
			}
		});
		return true;
	};
	
	function viewList(){
		dataLayer.push({
			"ecommerce": {
				"currencyCode": "RUB",
				"impressions": [
					{
						"id": "P15432",
						"name" : "Футболка",
						"price": 477.60,
						"brand": "Яндекс / Яndex",
						"category": "Одежда/Мужская одежда/Футболки",
						"variant" : "Красный цвет",
						"list": "Search",
						"position": 1
					},
					{
						"id": "P15435",
						"name" : "Футболка",
						"price": 500.60,
						"brand": "Яндекс / Яndex",
						"category": "Одежда/Мужская одежда/Футболки",
						"variant" : "Синий цвет",
						"list": "Search",
						"position": 2
					}
				]
			}
		});
		return true;
	};
	
	function clickInList(){
			dataLayer.push({
			"ecommerce": {
				"currencyCode": "RUB",
				"click": {
					"products": [
						{
							"id": "39084",
							"name": "Термостакан Яндекс",
							"price": 1089.69,
							"brand": "Яндекс / Яndex",
							"category": "Товары для дома/Посуда/Термосы и термокружки",
							"variant": "Красный цвет",
							"list": "Search",
							"position": 1
						}
					]
				}
			}
		});		
		return true;
	};
	
	function prodView(){
		dataLayer.push({
			"ecommerce": {
				"currencyCode": "RUB",
				"detail": {
					"products": [
						{
							"id": "P15432",
							"name" : "Футболка",
							"price": 477.60,
							"brand": "Яндекс / Яndex",
							"category": "Одежда/Мужская одежда/Футболки",
							"variant" : "Красный цвет",
							"list": "Результаты поиска",
							"position": 1
						}
					]
				}
			}
		});
		return true;
	};
	
	function delBasket(){
		dataLayer.push({
			"ecommerce": {
				"currencyCode": "RUB",    
				"remove": {
					"products": [
						{
							"id": "43521",
							"name": "Сумка Яндекс",
							"price": 654.32,
							"brand": "Яндекс / Яndex",
							"category": "Аксессуары/Сумки",
							"quantity": 1,
							"list": "Выдача категории",
							"position": 2
						}
					]
				}
			}
		});
		return true;
	};
	
	function purchase(){
		dataLayer.push({
		"ecommerce": {
			"currencyCode": "RUB",
			"purchase": {
				"actionField": {
					"id" : "TRX987"
				},
				"products": [
					{
						"id": "25341",
						"name": "Толстовка Яндекс мужская",
						"price": 1345.26,
						"brand": "Яндекс / Яndex",
						"category": "Одежда/Мужская одежда/Толстовки и свитшоты",
						"variant": "Оранжевый цвет",
						"quantity": 1,
						"list": "Одежда",
						"position": 1
					},
					{
						"id": "25314",
						"name": "Толстовка Яндекс женская",
						"price": 1543.62,
						"brand": "Яндекс / Яndex",
						"category": "Одежда/Женская одежда/Толстовки и свитшоты",
						"variant": "Белый цвет",
						"quantity": 3,
						"list": "Толстовки",
						"position": 2
					}
				]
			}
		}
	});		
		return true;
	};
	
	function viewAds(){
		dataLayer.push({
			"ecommerce": {
				"promoView": {
					"promotions": [
						{
							"id": "BF001",          
							"name": "Черная пятница",
							"creative": "Баннер_1",
							"position": "Слот1"
						},
						{
							"id": "SUMMER002",
							"name": "Летние распродажи",
							"creative": "Баннер_3",
							"position": "Слот2"
						}
					]
				}
			}
		});
		return true;
	};
	
	function clickAds(){
		dataLayer.push({
			"ecommerce": {
				"promoClick": {
					"promotions": [
						{
							"id": "BF001",          
							"name": "Черная пятница",
							"creative": "Баннер_1",
							"position": "Слот1"
						}
					]
				}
			}
		});
		return true;
	};
</script>

<a href="https://clck.ru/h2LfJ" target="_blank">ссыль внешняя</a>
<p><a href='/#test'>ссыль с якорем</a></p>
<p>
	<a href='/test1.pdf'>ссыль на документ1</a><br>
	<a href='/test2.pdf'>ссыль на документ2</a><br>
	<a href='https://ya.ru/test2.pdf'>ссыль на внеш. документ</a>
</p>
<p>
	<a href="tel:+70123456789">+7 (012) 345-67-89</a>
</p>
<iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3A8d20f9a43d4685ab5b90c5a11869c944967c003848dd3b4382f9c3a2b7b5761e&amp;source=constructor" width="500" height="400" frameborder="0" id="iframe"></iframe>
</body>
</html>
